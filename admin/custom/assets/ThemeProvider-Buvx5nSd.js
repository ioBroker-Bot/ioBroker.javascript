import{C as l}from"./ConfigCustomJavascriptSet__loadShare__react__loadShare__-CzzIM-HW.js";import{Y as Pe,T as A,l as De,V as Ae,s as Ve}from"./createTheme-BwMO3rTt.js";import{j as y}from"./jsx-runtime-o-xyxrOj.js";import{R as Ke}from"./index-B7G6Jpdl.js";import{u as Oe}from"./useThemeWithoutDefault-C-hl_s0Z.js";import{D as Re}from"./DefaultPropsProvider-DbEA5uR6.js";import{u as Ne,G as Ge}from"./useEnhancedEffect-CdLBzwyA.js";const ke=l.createContext(null);function W(){return l.useContext(ke)}const He=typeof Symbol=="function"&&Symbol.for,Fe=He?Symbol.for("mui.nested"):"__THEME_NESTED__";function Ue(e,t){return typeof t=="function"?t(e):{...e,...t}}function Ye(e){const{children:t,theme:o}=e,r=W(),C=l.useMemo(()=>{const f=r===null?{...o}:Ue(r,o);return f!=null&&(f[Fe]=r!==null),f},[o,r]);return y.jsx(ke.Provider,{value:C,children:t})}const ge={};function be(e,t,o,r=!1){return l.useMemo(()=>{const C=e&&t[e]||t;if(typeof o=="function"){const f=o(C),s=e?{...t,[e]:f}:f;return r?()=>s:s}return e?{...t,[e]:o}:{...t,...o}},[e,t,o,r])}function Te(e){const{children:t,theme:o,themeId:r}=e,C=Oe(ge),f=W()||ge,s=be(r,C,o),u=be(r,f,o,!0),S=(r?s[r]:s).direction==="rtl";return y.jsx(Ye,{theme:u,children:y.jsx(Pe.Provider,{value:s,children:y.jsx(Ke,{value:S,children:y.jsx(Re,{value:r?s[r].components:s.components,children:t})})})})}const ee="mode",te="color-scheme",qe="data-color-scheme";function Be(e){const{defaultMode:t="system",defaultLightColorScheme:o="light",defaultDarkColorScheme:r="dark",modeStorageKey:C=ee,colorSchemeStorageKey:f=te,attribute:s=qe,colorSchemeNode:u="document.documentElement",nonce:S}=e||{};let T="",p=s;if(s==="class"&&(p=".%s"),s==="data"&&(p="[data-%s]"),p.startsWith(".")){const a=p.substring(1);T+=`${u}.classList.remove('${a}'.replace('%s', light), '${a}'.replace('%s', dark));
      ${u}.classList.add('${a}'.replace('%s', colorScheme));`}const w=p.match(/\[([^\]]+)\]/);if(w){const[a,m]=w[1].split("=");m||(T+=`${u}.removeAttribute('${a}'.replace('%s', light));
      ${u}.removeAttribute('${a}'.replace('%s', dark));`),T+=`
      ${u}.setAttribute('${a}'.replace('%s', colorScheme), ${m?`${m}.replace('%s', colorScheme)`:'""'});`}else T+=`${u}.setAttribute('${p}', colorScheme);`;return y.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?S:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${C}') || '${t}';
  const dark = localStorage.getItem('${f}-dark') || '${r}';
  const light = localStorage.getItem('${f}-light') || '${o}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${T}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function ze(){}const Je=({key:e,storageWindow:t})=>(!t&&typeof window<"u"&&(t=window),{get(o){if(typeof window>"u")return;if(!t)return o;let r;try{r=t.localStorage.getItem(e)}catch{}return r||o},set:o=>{if(t)try{t.localStorage.setItem(e,o)}catch{}},subscribe:o=>{if(!t)return ze;const r=C=>{const f=C.newValue;C.key===e&&o(f)};return t.addEventListener("storage",r),()=>{t.removeEventListener("storage",r)}}});function X(){}function Me(e){if(typeof window<"u"&&typeof window.matchMedia=="function"&&e==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function Ee(e,t){if(e.mode==="light"||e.mode==="system"&&e.systemMode==="light")return t("light");if(e.mode==="dark"||e.mode==="system"&&e.systemMode==="dark")return t("dark")}function Qe(e){return Ee(e,t=>{if(t==="light")return e.lightColorScheme;if(t==="dark")return e.darkColorScheme})}function Xe(e){const{defaultMode:t="light",defaultLightColorScheme:o,defaultDarkColorScheme:r,supportedColorSchemes:C=[],modeStorageKey:f=ee,colorSchemeStorageKey:s=te,storageWindow:u=typeof window>"u"?void 0:window,storageManager:S=Je,noSsr:T=!1}=e,p=C.join(","),w=C.length>1,a=l.useMemo(()=>S==null?void 0:S({key:f,storageWindow:u}),[S,f,u]),m=l.useMemo(()=>S==null?void 0:S({key:`${s}-light`,storageWindow:u}),[S,s,u]),h=l.useMemo(()=>S==null?void 0:S({key:`${s}-dark`,storageWindow:u}),[S,s,u]),[v,I]=l.useState(()=>{const n=(a==null?void 0:a.get(t))||t,c=(m==null?void 0:m.get(o))||o,i=(h==null?void 0:h.get(r))||r;return{mode:n,systemMode:Me(n),lightColorScheme:c,darkColorScheme:i}}),[j,U]=l.useState(T||!w);l.useEffect(()=>{U(!0)},[]);const V=Qe(v),K=l.useCallback(n=>{I(c=>{if(n===c.mode)return c;const i=n??t;return a==null||a.set(i),{...c,mode:i,systemMode:Me(i)}})},[a,t]),P=l.useCallback(n=>{n?typeof n=="string"?n&&!p.includes(n)?console.error(`\`${n}\` does not exist in \`theme.colorSchemes\`.`):I(c=>{const i={...c};return Ee(c,d=>{d==="light"&&(m==null||m.set(n),i.lightColorScheme=n),d==="dark"&&(h==null||h.set(n),i.darkColorScheme=n)}),i}):I(c=>{const i={...c},d=n.light===null?o:n.light,L=n.dark===null?r:n.dark;return d&&(p.includes(d)?(i.lightColorScheme=d,m==null||m.set(d)):console.error(`\`${d}\` does not exist in \`theme.colorSchemes\`.`)),L&&(p.includes(L)?(i.darkColorScheme=L,h==null||h.set(L)):console.error(`\`${L}\` does not exist in \`theme.colorSchemes\`.`)),i}):I(c=>(m==null||m.set(o),h==null||h.set(r),{...c,lightColorScheme:o,darkColorScheme:r}))},[p,m,h,o,r]),O=l.useCallback(n=>{v.mode==="system"&&I(c=>{const i=n!=null&&n.matches?"dark":"light";return c.systemMode===i?c:{...c,systemMode:i}})},[v.mode]),H=l.useRef(O);return H.current=O,l.useEffect(()=>{if(typeof window.matchMedia!="function"||!w)return;const n=(...i)=>H.current(...i),c=window.matchMedia("(prefers-color-scheme: dark)");return c.addListener(n),n(c),()=>{c.removeListener(n)}},[w]),l.useEffect(()=>{if(w){const n=(a==null?void 0:a.subscribe(d=>{(!d||["light","dark","system"].includes(d))&&K(d||t)}))||X,c=(m==null?void 0:m.subscribe(d=>{(!d||p.match(d))&&P({light:d})}))||X,i=(h==null?void 0:h.subscribe(d=>{(!d||p.match(d))&&P({dark:d})}))||X;return()=>{n(),c(),i()}}},[P,K,p,t,u,w,a,m,h]),{...v,mode:j?v.mode:void 0,systemMode:j?v.systemMode:void 0,colorScheme:j?V:void 0,setMode:K,setColorScheme:P}}const Ze="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function We(e){const{themeId:t,theme:o={},modeStorageKey:r=ee,colorSchemeStorageKey:C=te,disableTransitionOnChange:f=!1,defaultColorScheme:s,resolveTheme:u}=e,S={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},T=l.createContext(void 0),p=()=>l.useContext(T)||S,w={},a={};function m(j){var Se,Ce,pe,ye;const{children:U,theme:V,modeStorageKey:K=r,colorSchemeStorageKey:P=C,disableTransitionOnChange:O=f,storageManager:H,storageWindow:n=typeof window>"u"?void 0:window,documentNode:c=typeof document>"u"?void 0:document,colorSchemeNode:i=typeof document>"u"?void 0:document.documentElement,disableNestedContext:d=!1,disableStyleSheetGeneration:L=!1,defaultMode:$e="system",noSsr:ve}=j,Y=l.useRef(!1),q=W(),B=l.useContext(T),z=!!B&&!d,oe=l.useMemo(()=>V||(typeof o=="function"?o():o),[V]),re=oe[t],x=re||oe,{colorSchemes:_=w,components:ne=a,cssVarPrefix:J}=x,se=Object.keys(_).filter(g=>!!_[g]).join(","),D=l.useMemo(()=>se.split(","),[se]),ce=typeof s=="string"?s:s.light,ie=typeof s=="string"?s:s.dark,_e=_[ce]&&_[ie]?$e:((Ce=(Se=_[x.defaultColorScheme])==null?void 0:Se.palette)==null?void 0:Ce.mode)||((pe=x.palette)==null?void 0:pe.mode),{mode:je,setMode:le,systemMode:me,lightColorScheme:de,darkColorScheme:ae,colorScheme:Le,setColorScheme:ue}=Xe({supportedColorSchemes:D,defaultLightColorScheme:ce,defaultDarkColorScheme:ie,modeStorageKey:K,colorSchemeStorageKey:P,defaultMode:_e,storageManager:H,storageWindow:n,noSsr:ve});let Q=je,k=Le;z&&(Q=B.mode,k=B.colorScheme);const R=l.useMemo(()=>{var G;const g=k||x.defaultColorScheme,b=((G=x.generateThemeVars)==null?void 0:G.call(x))||x.vars,M={...x,components:ne,colorSchemes:_,cssVarPrefix:J,vars:b};if(typeof M.generateSpacing=="function"&&(M.spacing=M.generateSpacing()),g){const E=_[g];E&&typeof E=="object"&&Object.keys(E).forEach($=>{E[$]&&typeof E[$]=="object"?M[$]={...M[$],...E[$]}:M[$]=E[$]})}return u?u(M):M},[x,k,ne,_,J]),N=x.colorSchemeSelector;Ne(()=>{if(k&&i&&N&&N!=="media"){const g=N;let b=N;if(g==="class"&&(b=".%s"),g==="data"&&(b="[data-%s]"),g!=null&&g.startsWith("data-")&&!g.includes("%s")&&(b=`[${g}="%s"]`),b.startsWith("."))i.classList.remove(...D.map(M=>b.substring(1).replace("%s",M))),i.classList.add(b.substring(1).replace("%s",k));else{const M=b.replace("%s",k).match(/\[([^\]]+)\]/);if(M){const[G,E]=M[1].split("=");E||D.forEach($=>{i.removeAttribute(G.replace(k,$))}),i.setAttribute(G,E?E.replace(/"|'/g,""):"")}else i.setAttribute(b,k)}}},[k,N,i,D]),l.useEffect(()=>{let g;if(O&&Y.current&&c){const b=c.createElement("style");b.appendChild(c.createTextNode(Ze)),c.head.appendChild(b),window.getComputedStyle(c.body),g=setTimeout(()=>{c.head.removeChild(b)},1)}return()=>{clearTimeout(g)}},[k,O,c]),l.useEffect(()=>(Y.current=!0,()=>{Y.current=!1}),[]);const Ie=l.useMemo(()=>({allColorSchemes:D,colorScheme:k,darkColorScheme:ae,lightColorScheme:de,mode:Q,setColorScheme:ue,setMode:le,systemMode:me}),[D,k,ae,de,Q,ue,le,me,R.colorSchemeSelector]);let he=!0;(L||x.cssVariables===!1||z&&(q==null?void 0:q.cssVarPrefix)===J)&&(he=!1);const fe=y.jsxs(l.Fragment,{children:[y.jsx(Te,{themeId:re?t:void 0,theme:R,children:U}),he&&y.jsx(Ge,{styles:((ye=R.generateStyleSheets)==null?void 0:ye.call(R))||[]})]});return z?fe:y.jsx(T.Provider,{value:Ie,children:fe})}const h=typeof s=="string"?s:s.light,v=typeof s=="string"?s:s.dark;return{CssVarsProvider:m,useColorScheme:p,getInitColorSchemeScript:j=>Be({colorSchemeStorageKey:C,defaultLightColorScheme:h,defaultDarkColorScheme:v,modeStorageKey:r,...j})}}function Z({theme:e,...t}){const o=A in e?e[A]:void 0;return y.jsx(Te,{...t,themeId:o?A:void 0,theme:o||e})}const F={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:we,useColorScheme:mt,getInitColorSchemeScript:et}=We({themeId:A,theme:()=>De({cssVariables:!0}),colorSchemeStorageKey:F.colorSchemeStorageKey,modeStorageKey:F.modeStorageKey,defaultColorScheme:{light:F.defaultLightColorScheme,dark:F.defaultDarkColorScheme},resolveTheme:e=>{const t={...e,typography:Ae(e.palette,e.typography)};return t.unstable_sx=function(r){return Ve({sx:r,theme:this})},t}});function dt(e){return y.jsx(we,{...e})}let xe=!1;const at=e=>(xe||(console.warn(["MUI: The getInitColorSchemeScript function has been deprecated.","","You should use `import InitColorSchemeScript from '@mui/material/InitColorSchemeScript'`","and replace the function call with `<InitColorSchemeScript />` instead."].join(`
`)),xe=!0),et(e)),tt=we;function ut({theme:e,...t}){if(typeof e=="function")return y.jsx(Z,{theme:e,...t});const o=A in e?e[A]:e;return"colorSchemes"in o?y.jsx(tt,{theme:e,...t}):"vars"in o?y.jsx(Z,{theme:e,...t}):y.jsx(Z,{theme:{...e,vars:null},...t})}export{tt as C,dt as E,ut as T,at as g,mt as u};
